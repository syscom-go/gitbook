# App Management

## App Management

> Remarks:
>
> 1. **Required**: Form field attributes, this field needs to be filled in to save or proceed to the next step.
> 2. **Unique value**: form field attribute. This field value must not be repeated in the same field when compared with other form data.
> 3. **Value**: Used to store the database when filling in specific fields. It is mostly used for system or process operations and is not affected by the language version.
> 4. **Word**: used for display when filling in specific fields.
> 5. **Process variables**: The process can provide the variable types used by each component when the process is running.
> 6. **Component variable**: Variable type used only by the component itself.

#### Application Design

This is the core function of OMFLOW. Custom processes can be created here and put on the shelves for use by general users or external systems.

> ※ This article mainly introduces the functions of each page. For how to build an application from scratch, please refer to the chapter \[Building Applications and Processes]

#### Application List

```
Location: [Main Menu]>Application Management>Application Design
```

Each application can be regarded as a container with multiple processes. The functions of the application list page are introduced as follows:

1. **New**: Create a new custom application
2. **Delete**: Delete the checked application
3. **Launch**: Launch a completed application
4. **Filter**: Search by keyword, filter attributes, and display the number of data items at one time
5. **Restore**: Restore filtering to default values
6. **Import**: Import old applications
7. **Export**: Export the selected application
8. **Cloud Download**: Download the official cloud application, which can be used under the following circumstances:

> • When the version is updated, the corresponding built-in process needs to be downloaded simultaneously\
> • Official release of new suite applications

After adding an application, you can see the **Settings** button on the far right of the application list. After clicking it, you can modify the following information:

1. **Application Name**: Modify the application name
2. **Application Design Permissions**: Enable this role to carry out **design**, **launch** and **design related service requests** without granting **application management permissions**.
3. **Application Parameters**: The set parameters are provided for process access and can be exported with the application.

> ※ "Application Design Permissions" gives "designers" the authority from **design** to **release adjustment** for a specific application.

#### Process List

```
Location: [Main Menu]>Application Management>Application Design>[Any Application]
```

Click any application in the application list to enter the process list page. The functions are introduced as follows:

1. **New**: Create a new form, you can choose "Form Process, Static Form", among which **Form Process** will execute the designed process when opening an order.
2. **Copy**: Copy the selected process to another application
3. **Delete**: Delete a process
4. **Filter**: Search by keyword, display the number of data items at one time
5. **Restore**: Restore filtering to default values
6. **Package**: List the packages required for all processes of the application
7. **Language**: Import and export translated language packages

> ※ The processes seen in this list will be collectively referred to as **main process** to distinguish them from **sub-process**.

#### Design form process＞Parameter setting

```
Location: [Main Menu] > Application Management > Application Design > [Any Application] > [Any Process] > Parameter Settings
```

Click the **Add** button or \[Any Process] to enter the process editing page. First, you will see the **Parameter Settings** tab. The following describes each setting:

1. **Process Name**: Enter text. It cannot be changed after it is put on the shelf. It is required.
2. **API path**: Enter alphanumeric characters as the table name of the database, unique value, required
3. **Description**: Explain the function of this process.
4. **Execution Process Record (LOG)**: Record the input and output at each point of the process.
5. **Application Programming Interface (API)**: Allows the process to be called by other functions and systems through API.
6. **Internal Interface Edit**: Allow other processes to invoice and push orders through the "Internal Process, External Process, Program Code" components. Please refer to the "Program Code Components" chapter.
7. **Internal interface deletion**: Allow other processes to delete orders through the "code" component. Please refer to the "Code Component" chapter.
8. **Internal Interface Query**: Allow other processes to query it through the "Code" component, please refer to the "Code Component" chapter.
9. **Whether to create a task**: Allow this process to generate tasks in **My Tasks**.
10. **View current process and progress**: Enable the **Process View** function on the form page, refer to the \[Apps>Process View] chapter.
11. **View form data operation history**: Enable the **Process** function on the form page, refer to the \[Apps>Process] chapter.
12. **Attach file function**: Enable the **Attach file** function on the form page, refer to the \[Apps>Attach file] chapter.
13. **Display data association**: Enable the **Association operation** function on the form page, refer to the \[Apps>Association operation] chapter.
14. **Fill in and display work log**: Enable the **work log** function on the form page, refer to the \[Apps>Work Log] chapter.
15. **View Service Level Status**: Enable the **Service Level** function on the form page, refer to the \[Apps>Service Level] chapter.
16. **Show Print Button**: Enable the **Print** function on the form page, refer to the \[Apps>Service Level] chapter.
17. **Quick operation confirmation window in the form**: When the user uses a quick operation in the form, whether to pop up a confirmation window.

> Notes:\
> (1) After the application is launched, the **process name** will be bound to the **API path**. If you need to modify it, you can only change the translation.\
> (2) **API path** is the identification name of the process. Once changed, it is regarded as a new process.

**Advanced parameter settings**

Here you can check **Form Number** to customize the code rules, which are introduced as follows:

1. Text: Enter text, generally used for the English abbreviation at the beginning of the tracking number.
2. Date: The **order opening time** will be displayed next to the **text**. Example: filling in ymdHMS will display 20240227135959. For details, please see the table below.
3. Serial number length: Continue to display the serial number after the **date** and set its length. Example: fill in 5 and the end of the first order number will display 00001
4. Serial number reset time: Set whether to set a reset period for the serial number.

| Date Symbol | Description | Display Example |
| ----------- | ----------- | --------------- |
| y           | year        | 2024            |
| m           | month       | 02              |
| d           | day         | 29              |
| H           | Hours       | 23              |
| M           | Minutes     | 59              |
| S           | Seconds     | 59              |

#### Design form process＞Permission setting

```
Location: [Main Menu] > Application Management > Application Design > [Any Application] > [Any Process] > Permission Settings
```

Set here which roles can have permissions for this process, and it will take effect when the corresponding application is launched.

1. **Add**: Add an existing role and give this role the permissions for this process.
2. **Delete**: Remove the permissions for this process from the checked role.

The newly added role can be set with four permissions, which are introduced below:

1. **View**: This process can be displayed in **\[Main Menu]>Apps** and the form list of the process can be viewed.
2. **New**: Orders can be issued on the **Form List** page of this process.
3. **Update**: When the form enters manual input, you can push the form to the next step.
4. **Delete**: You can delete the form of this process.

> ※ When the application is re-listed, all role-related process permissions will be deleted first, and then the permissions will be re-granted.

**advanced settings**

Here you can allow users with viewing permissions to only see specific forms under certain circumstances. After checking, you can see the following fields:

1. **View all forms**: Select the specified department, role, and user to view all data of the process regardless of conditions.
2. **When the specified form fields match the user's personal information, the user can view the form**: When the specified fields of the form match the user's personal information, the form can be viewed.
3. **When the specified form field meets a specific value, selected departments, roles, and users can view the form**: When the specified form field meets a specific value, specific departments, roles, and users can view the form.

> ※ Each of the above three viewing rules is established independently. When the user meets any of the rules, he or she can see the order.

### Form design

```
Location: [Main Menu] > Application Management > Application Design > [Any Application] > [Any Process] > Form Design
```

The design fields allow users to fill in the fields and bring them into the process for calculation and application. The following will introduce:

**Form design＞Block & half-block**

Click the **+Block** and **+Half-Block** buttons to add a block to the form. The block is mainly responsible for dividing the position of the form. The following is an introduction to the block function:

1. **Add new fields \[+]**: Add various fields to the block. For details, please refer to the chapter \[Introduction to Form Fields].
2. **Delete〔X〕**: Delete the block and the included fields together.
3. **Settings \[Gear]**: Set block attributes, as described below:\
   • **Title text**: Title text of the block\
   • **Label Color**: The color of the line above the block\
   • **Hide**: Hide this block and the fields inside it

> ※ You must create a **block** before you can add a **field**.

#### Introduction to form fields

The following introduces the basic fields that most fields will have:

1. **Field name**: Enter text as the name of the field display
2. **Annotation description**: Description of the field, displayed in the form of placeholder
3. **Default value**: The value entered into the field by default
4. **Type**: Divided into text, number, password, unique value, URL, email
5. **Required**: Required fields will be checked when data is created or pushed. If the value is empty, the operation will be rejected.
6. **Read Only**: If checked, the user can only view this field but cannot modify it.
7. **Hide**: Hide this field

**Form design＞Input box**

A field for input text, which can be adjusted according to the following properties:

1. **Format Check**: After entering the regex syntax, the system will check whether the content conforms to the syntax. If it does not comply, the user's operation will be rejected.
2. **Enable camera scanning of barcodes on mobile devices**: A mobile-specific function that can automatically input barcode data.
3. **Mask**: Mask the field data. The following are the masking rules:
4. **Number of digits to display at the beginning**: Fill in the numbers, from the first character to the specified character without blocking.
5. **Number of display digits at the end**: Fill in the number and count backwards from the last character to the specified character without blocking.
6. **Minimum number of characters to mask**: Fill in the number to ensure the number of characters to be masked.

**Form design>Multi-line input**

**Number of lines**: This adjustment is usually for the sake of beautiful form layout and does not limit the length of content input by users. If the user types more content than the setting, a drop-down scroll will appear next to the field.

**Form design＞Drop-down menu**

The drop-down menu has an additional option tab, and you can add a delete option. Hold down `**↕︎**` to drag options.\
**Check**: Allows selection of multiple items\
**Option sorting**: After checked, the user's selection order will be recorded, example: 3,1,2\
**Check limit**: The upper limit of the number that can be selected when making a check\
**Check selection lower limit**: The lower limit of the number that can be selected when checking\
**Default value**: Please separate the selected default values ​​with commas, example: 1,2,3,4

**"Options" tab**

1. **Value**: Fill in the "value" and provide it for system calculation and will not be affected by the language version.
2. **Display text**: Fill in the "text" and display it for users to identify.

> ※ **Drop-down menu** fields regardless of single check are stored in the database format as `[＜value＞,＜value＞,...]`

**Form design＞Radio/check menu**

All options can be customized and checked in this field. Most of the options are the same as the "Drop-down Menu". Other options are introduced below:\
**Others**: When users do not check the appropriate options, they can fill in this "Other" field by themselves, and the filled-in will be stored as "Word, Value" at the same time.

> ※ **Single/Multiple Select Menu** fields regardless of single or multiple selections are stored in the database format as `[＜value＞,＜value＞,...]`

**Form design＞Title**

Fixed fields of the form, similar to **input box** fields:

> ※ Many functions of OMFLOW will use the **Title** field to represent the name of this form, such as "My Tasks, Related Operations" and so on.

**Form Design>Status**

Fixed fields of the form, similar to **drop-down menu**:

> ※ Many functions of OMFLOW will use the **status** column to represent the current stage of this form, such as "My tasks, related operations" and so on.

**Form design＞Light signal**

The fixed field of the form is similar to the **drop-down menu**, but there are only three fixed options of red, yellow, and green lights.

> ※ Many functions of OMFLOW will use **light** fields to represent the severity or urgency of this form, such as "My Tasks, Service Levels", etc.

**Form design＞Assignee and department**

The fixed fields of the form are composed of two fields: "department and user". After selecting a department, the **User** field will dynamically generate users under the department for selection. The settings are introduced below:

**Include assignee field**: The default is checked. If this check is cleared, only the **Department** field will be displayed in this field.

**Default value**: You can fill in **＜Department ID＞,＜User ID＞** as the default assignment object when billing, ID query to **Personnel Management>User Management** and\* \*Personnel Management>Department Management\*\*View the number "number" field.

> This field determines the creation and assignment of **Task**. If only **Department** is selected but **User** is not selected, all users in the department will be able to create and assign tasks in "My Tasks" ” Saw this order.

**"Options" tab**

This tab limits which departments can be selected.

**Form design＞Date**

Clicking this field will pop up the **date** interface for selection.

**Form Design>Date/Time**

Clicking this field will pop up the **date and time** interface for selection.

**Form design＞Subquery**

This field will display a list of form data from other OMFLOW processes. The user can check any piece of data and backfill specific fields into this form:\
**Users are not allowed to enter by themselves**: Only query and the system will backfill the fields, manual input is not allowed.

The following describes the steps to set up a subquery:

1. **Form** tab: Select the application and process to be queried (abbreviation: **Checked process**)
2. **Conditions** tab: Set conditions for preliminary screening and narrow the range of information displayed in **Inspected Process**
3. **Dynamic conditions** tab: Use the data of **user** and **this form** as condition filters to narrow the range of data displayed in the **checked process**
4. **Backfill** tab: When the user selects the data of the **checked process**, the field value of the data will be backfilled into the designated field of this form.

> Notes on setting **conditions and dynamic conditions**:\
> Use "value" as the query target in the "drop-down menu, radio/check menu, status, light signal" field.\
> Use "ID" as the query target in the "Assigned Department, Department, User" field.

**Form design＞External query**

This field can return a list of data through python code. The user can check any piece of data and backfill specific fields into this form:\
**Users are not allowed to enter by themselves**: Only query and the system will backfill the fields, manual input is not allowed.\
**Distributed computing**: Specify the Collector to execute the code of the "Python" tab.

The following describes the steps to set up a subquery:

1. **Filter** tab: Before executing the Python code, sort the variables here (referred to as: **component variables**). For details, please refer to the \[Application Management > Filtering] chapter.
2. **Input** tab: Set those "process variables and component variables" to be brought into Python code, and provide Python code calls with new variable names.
3. **Package** tab: Fill in the name of the package that needs to be installed first when executing Python code. Please ensure that OMFLOW can be connected to PIPServer.
4. **Python** tab: Write code here and point the result to the **result** variable. The data must be a two-dimensional array with the following format:

```python

#Point the result to the result variable

result = [
    ["Title1", "Title2"],
    ["row1" , "row1" ],
    ["row2" , "row2" ]
]

```

4. **Backfill** tab: When the user selects data, the corresponding value of the data will be backfilled into the designated field of this form according to the set field name \[Title].

**Form Design＞Department**

Select the created department from the drop-down menu and set checkboxes.\
**Default Value** tab: Please separate the selected default values ​​with commas. Example: , ,\
**Options** tab: Limit which departments can be selected.

**Form Design＞User**

Select the created user from the drop-down menu and set the checkbox.\
**Default Value** tab: Please separate the selected default values ​​with commas. Example: , ,\
**Options** tab: Limit which departments can be selected.

**Form design＞Subform**

Provide fields in Table format to store multiple pieces of data (referred to as: sub-table data):

1. **Number of rows**: The height of the rows displayed by Table by default
2. **Required**: When checked, this field requires at least one **subform data**
3. **Hide Toolbar**: Hide the "Add, Data Move, Delete" functions
4. **Customized Form**: And design a subform according to the Table field. Please pay attention to the following points;\
   • **Required**: When a piece of **subform information** is filled in, the related **required** fields must also be filled in.\
   • **Field Calculation Rules**: Set the linkage mechanism for the same **subtable data**. For details, please refer to the chapter \[Application Management > Field Calculation Rules].

> ※ The "Subquery, Field Calculation Rules" field of the subtable can refer to the fields of this form as query conditions.

**Form Design＞Tips**

Fields for reminders and warnings, supporting html format

> ※ The content of this field is for display only and cannot be edited by the user or used by the process.

**Form design＞File upload**

Provides fields for uploading files to further control functions such as "file type, quantity, read-only".

**Form design＞※Work log**

Provides the function of viewing the "Work Log" directly on the form. For details, please refer to the \[Apps>Work Log] chapter.

**Form design＞※Signature**

Provides the function of viewing "Signature Records" directly on the form. For details, please refer to the chapters "Application Management > Signoff Design" and "Signature Mechanism".

> ※ If the process is designed with an approval function, the **Approval Record** field will also be automatically displayed at the top of the form

#### Form design>Field calculation rules

Set calculation rules for the form, and when the field value changes, the settings or values ​​of other fields will also be changed.

> ※ This rule will only operate when the user fills in the form. These calculation conditions will not be triggered when the field value is modified or the field is backfilled during the process.

Click the **Add** button to add new rules (referred to as: calculation rules). On the far right of each calculation rule is the "Copy, Set, Delete" button. Click **Settings \[Gear]** to Jump out of the setting interface, as follows:

1. **Settings** tab: After entering the setting screen, you can modify the name and add new comments for this rule.
2. **Trigger Field** tab: Click Add to add a trigger field. When the user fills in the form and the value of the trigger field is changed, the trigger condition will be checked.
3. **Trigger Condition** tab: When the trigger condition is met, the calculation will start. If the trigger condition is empty, the operation will be performed directly.
4. **Operation** tab: Start calculation and backfill the results into the specified fields, classified as follows:\
   **Number**: Select the form field as a **variable** and add it to the **Operation Content** block, and use mathematical symbols to perform operations.\
   **String**: Select form fields as **variables** to add strings.\
   **Date**: Select the "Date" field of the form and add or subtract the specified length of time.\
   **Date/Time**: Select the "Date/Time" field of the form and add or subtract the specified length of time.\
   **Date/Specified Time**: Select the "Date/Time" field of the form, add or subtract the specified date length, and then re-specify the time.\
   **Data Query**: Similar to subquery settings, the corresponding field values ​​of the queried form data are backfilled into the fields of this form.\
   **Field linkage**: Modify the field settings of this form, such as read-only, required, options, etc.

### Process Design

```
Location: [Main Menu] > Application Management > Application Design > [Any Application] > [Any Process] > Process Design
```

When the newly added form is "Form Process", you can click the **Process Design** tab to enter the process design interface. After entering, you will see a default process in which most of the components are connected by arrows. It is connected to form a flow chart. After the order is issued, the design here will be executed sequentially. The following is a brief introduction to the basic operations of the components:

Clicking the "Manual Input" component will display function buttons around the component, as described below:

1. Drag: Press and hold the left mouse button on this component and move it to drag the position on the flow chart.
2. Setting: Click to pop up the relevant setting interface. For details, please refer to the chapter \[Introduction to each component of the process]
3. Copy: Copy this component (including the set parameters)
4. Delete: Delete this component (including the lines connected to the component)
5. Connection point: Connect to other components. For the connection method, please refer to the chapter \[Creating Applications and Processes>Creating Connections]

#### Introduction to each component of the process

Click the **+Add** button in the upper left corner of the main screen to add specified components to the flow chart. Each component is introduced below:

**Component - Start**

The source of a process. It is recommended to establish process variables here for use by subsequent components. The following describes the purpose of each tab:

1. **Settings** tab: Set the general properties of this component. "Display name" can modify the display name of the component to facilitate users to identify the current location when viewing the process. Check **Data Verification** to Turn on the verification function.
2. **Input** tab: Write the field value or fixed string into the variable. The variables created here are **process variables**, and all subsequent components can use these variables. Here you will see that there is a default input, result=success, whose variables have many functions in OMFLOW, and are generally used to declare whether the order has been executed normally.
3. **Data Verification** tab: This tab will appear when **Data Verification** is checked on the **Settings** tab. You can write Python code to check the form content, and use the status variable to determine whether This form is allowed to be opened. For details, please refer to the chapter \[Application Management > Program Code Components].

**Component - End**

At the end of a process, only when the process reaches this component, the **Close Order** action (closing the task, ending SLA monitoring, etc.) will be performed. When the process is called by other processes, it will only proceed to When "ending" the component, the execution result will be returned.

> ※ Under normal circumstances, the process should be allowed to execute smoothly until the "end" component.

When the process falls into the following situations, be sure to connect to the "end" element, otherwise the process will not be completed smoothly:\
• When the process is a subprocess\
• When the process will be called by other processes\
• When the process is a data collection process

**Filtering** tab: Here you can organize the "process variables, form fields, system parameters, application parameters" parameters that are to be output, to facilitate subsequent process interfaces or data return to the main process or OMFLOW Server, among which \* _System parameters_\* can refer to the chapter \[Application Management > Parameter Management].

> ※ The variables created by filtering can only be used by the current component, not process variables.

**Component - Manual Input**

Once the process reaches this point, it will stop for the user to review, fill in the information and advance (can be advanced through the front-end interface or API).

> ※ When entering manual input, only **manual order push** or **API order push** can make the process move forward.

**"Settings" tab**

1. **Record Log**: It has the same function as the introduced **Execution Process Record (LOG)**. The difference is that this function will only affect the current component.
2. **Show Send Button**: This option determines whether the send button needs to be displayed in addition to the quick action button after the user enters the form when quick operations are enabled.
3. **Enable the sign-off function**: After the sign-off function is enabled, there will be an additional sign-off tab, and the submit button that users see in the form will be changed to a sign-off button. After the signature is completed, the subsequent process will proceed regardless of whether it is agreed or not.
4. **Designate signature sender**: This function must be enabled for signature first. If the signature sender is not specified after activation, the person who pushed the order will be the signature sender.
5. **Send signature directly**: This function must be enabled for signature first. After this function is enabled, when entering the manual processing, it will not stop and will directly enter the sign-off. At this time, if the designated sign-sender above is not specified, the sign-sender will be the assignee. If there is no assignee, the sign-sender will be the assignee. System.

**"Filter" tab**

The "process variables, form fields, system parameters, application parameters" parameters can be organized here to provide subsequent tab access to this component.

> ※ The variables created by filtering can only be used by the current component, not process variables.

**"Field Settings" tab**

When the process stops, modify the field value in the database. When the user opens the form, the modified content will be displayed.

**"Customized Form" tab**

You can choose whether to load the form designed by the form design. After selecting to load, you can modify the currently presented form - delete or add some fields to meet the current content that needs to be presented to the user. If you do not choose to load, the form designed by the form will be applied directly.

**"Data Verification" tab**

This tab will appear when **Data Verification** is checked on the **Settings** tab. You can write Python code to check the form content, and use the status variable to determine whether push orders are allowed. For details, please refer to \[Application Management> Code Components] chapter.

> ※ During data verification, if the status is error, the message will be displayed on the interface as an error message.

**"Signature" tab**

Click the **Add** button to add a new approval template. The approval template can have the following settings:

1. **Signoff Name**: Select an existing signoff template.
2. **Allow users to adjust themselves**: When set to allow, the stage setting of the approval template will pop up after the user clicks to submit the sign. The user can add additional stages, but cannot delete the original stage. .
3. **Conditions**: When there are multiple approval templates, after setting the conditions, the user presses Submit Signature, and which approval template will be executed according to the conditions. If more than two conditions are met, use The corresponding approval template will pop up on the user's screen, and the user can decide which approval template to execute.
4. **Signature settings**:

> **Input**: Input variables from the process to sign-off.
>
> **Stage**: The stage tab here is only for designers to know which stages the sign-off template has gone through. If the design exceeds two stages, the following conditions can be set.
>
> **Conditions**: Set conditions to determine whether the approval will proceed to subsequent stages. Assume that there are three stages. If the conditions of the second stage are not met, neither the second nor the third stage will be executed. That is, the result of the first stage is the final result of this approval.

**"Output" tab**

Similar to the input of the "Start" component, the field content updated by the user is output into process variables for use by subsequent components.

**"Action 1, Action 2" tab**

Also known as quick operation, after the design is completed, it can be used on **My Tasks>Task List**, allowing users to push orders directly without viewing the form content. When used, the field values ​​will be modified according to the design there. and move the process forward. Many fixed replies and advances can be completed through this function.

**Component - Field Settings**

Fill in variables or fixed strings into the database. This component can be selected when the database needs to be modified without manual processing.

**Component - Field/Variable Filter**

Simply replace variables or fields or obtain system parameters and default fields, and then output them to other process components for use.

**Component - Call Flow**

Call another process under the same application. When the process comes to an end, this process will continue to advance.

1. **Pass on Exception**: When an error occurs in the component during process execution, whether to ignore the error and allow the process to continue.
2. **Process**: Select the main process to be billed.
3. **Process Input**: After selecting the main process, the form fields of the process and the input of the "Start" component will be brought into this tab. \*\*If no value is entered, the system defaults to entering an empty string. . \*\*
4. **Process Output**: After selecting the process, the "End" component output of the process will be brought to this tab. Select the required output and put it into the process variable of the current process for use by subsequent components.

**Component - Subprocess**

Call the sub-process of the current main process. When the process enters the "end" element, the process will continue to advance. The rest of the \[Application Management > Call Process] is basically the same.

1. **Subprocess**: Select the subprocess to be executed.
2. **Sub-process input**: After selecting a sub-process, the form fields of the process and the input of the "Start" component will be brought into this tab. \*\*If no value is entered, the system defaults to entering a blank word string. \*\*
3. **Sub-process Output**: After selecting a sub-process, the "End" component output of the process will be brought to this tab. Select the required output and put it into the process variable of the current process for use by subsequent components.

**Component - Code**

Write a piece of Python code to be executed by the data center/collector. The following will be introduced for each tab:

**"Settings" tab**

1. **Display name**: Give the component a name to facilitate users to identify the current location when viewing the process.
2. **Pass on Exception**: When an error occurs in the component during process execution, whether to ignore the error and allow the process to continue.
3. **Distributed Computing**: When this option is checked, the server will assign the program code to the "Distributed Computing" group and randomly assign a Collector for execution. For details, please refer to the chapter \[Data Collection > Collector Management] .
4. **Record Log**: It has the same function as the **Execution Process Record (LOG)** introduced before. The difference is that this function will only affect the current component.

**"Filter" tab**

**Filter** tab: Here you can organize the "process variables, form fields, system parameters, application parameters" parameters that are to be output, so that subsequent Python code can be easily accessed. Among them, **system parameters** can refer to \[Application] Management>Parameter Management] chapter.

> ※ The variables created by filtering can only be used by the current component, not process variables.

**"Input" tab**

Input "variables, strings, field values" into the Python code. The following example shows how to use it:

Assume that the code typed in the python tab is as follows:

```
d = a + b + c
```

At this time, four variables a, b, c, and d need to be brought in, and the settings are as follows:

| Input variable | Variable name | Description                                           |
| -------------- | ------------- | ----------------------------------------------------- |
| 1              | a             | Point fixed string to a                               |
| Field B        | b             | Points the specific field value to b                  |
| Variable C     | c             | Point the component variable or process variable to c |
|                | d             | Create an empty variable                              |

> Important points to note:\
> • “d” is brought in to be able to bring it back into the process.\
> • All parameters entered are strings, so they need to be converted into the required data type in the program code.

**"Package" tab**

When additional packages are needed in python, enter the package name here. During the system launch process, it will be judged whether the package already exists. If there is no package, it will be downloaded and installed from the Internet.

> ※ If there is no external network, you can set up the pypi repository server yourself and modify the system settings.

**"Python" tab**

Write the required python code. The return of the final result of the program code does not rely on return. Instead, a variable of the input tab needs to be written in the outermost layer to receive the result. The code is as follows:

```
d = a + b + c
```

> ※ The variables set from the **Input tab** can be called without declaring them in the code.

**"Output" tab**

Get the python execution result (d) and write back the process variables.

| Input data | Variable name | Description                          |
| ---------- | ------------- | ------------------------------------ |
| d          | calculation   | Add new process variable calculation |

> ※ Only variables that have passed the input tab can be output here!

**Component - External Process**

Call the process of the application that has been launched. When the process enters the "end" component, the process will continue to advance.

1. **External Process**: Select the external process to be issued and executed.
2. **Process Input**: After selecting the process, the input of the form fields and "Start" component of the process will be brought to this tab. \*\*If no value is entered, the system defaults to entering an empty string. \*\*
3. **Process Output**: After selecting the process, the "End" component output of the process will be brought to this tab. Select the required output and put it into the process variable of the current process for use by subsequent components.

**Component-Conditional Judgment**

This component can design branch routes and determine the forward route according to conditions, with the following precautions:

> Important points to note:\
> (1) The rules will be displayed after pulling the line\
> (2) The "FITEM-?" displayed by the rules will be displayed in the upper left corner of each component screen\
> (3) When two rules are established, the following route will be taken\
> (4) When rebuilding the deleted line, you need to redefine the rules

**Component - Signoff Judgment**

This component decides to proceed through two routes of "agree or reject" based on the final result of the approval, with the following notes:

> Important points to note:\
> (1) The options of the rule will be displayed after pulling the line.\
> (2) The "FITEM-?" displayed by the rules will appear in the upper left corner of each component screen.\
> (3) This rule component can only determine whether the final approval result is agreed or not, so there is no point in pulling the third line.

**Elements - Parallel**

Unlike the "conditional judgment" component, the parallel component will perform each branch route simultaneously.

> ※ \*\*The process variables generated after parallelization cannot be shared by other branches. \*\*

**Component - Parallel Collection**

You can gather parallel branches into this component and select one of them as the main line. If the main line is not checked, the last completed branch line will be used as the main line. At the same time, the process variables of all branches will be included. If there are variables with the same name, the main line will be used.

> ※ \*\*If a collection component is designed, all branches connected to the collection component must be completed before continuing with the subsequent process. \*\*

**Elements - Dynamic Parallelism**

This allows the process to perform multiple operations on the same route at the same time without affecting each other.

> ※ \*\*The process variables generated after dynamic parallelism cannot be shared by other branches. \*\*

1. **Parallel Number**: Give a field, variable or fixed value to determine the number of parallel runs:\
   • **Array**: You can choose the "variable, field" format of the array or directly enter the value (example: A, B, C, D), and calculate the number of parallels based on the length of the array (example: 4 times)\
   • **Value**: Directly fill in the "variables, fields" in the format of numbers or directly enter the value (example: 3) to determine the number of parallel runs (example: 3 times)

2 **Array input**: Create new process variables and assign different values ​​to different branches\
• **Input data**: You can choose the "variable, field" format of the array or directly enter the value, for example: A, B, C, D, then the first branch will get "A"\
• **Variable Name**: Enter text as the name of the process variable for input data.

**Component - Dynamic Collection**

The branches that were dynamically paralleled can be collected back. The last completed branch is the main line. If there are variables that need to be **merged**, they must be set on the output tab. Otherwise, the main line is the main line.

> ※ \*\*When all branches are completed, the following processes will continue. \*\*

1. **Output json format**: Change the output tab data to string type json format.
2. **Replace "," characters**: Replace the "," (semi-shaped comma) in the variable value or field value of the output page with other characters.
3. **Output** tab: Select the common fields or variables of all branches to merge and output them into another variable.

```
The output example is as follows:\

Line 1: "A"\
Line 2: "B,D"\
Line three: "X, Y"

The combined variable output is: "A,B,D,X,Y"\
If you check Convert to json on the Settings tab, the output will be: "\['A', 'B,D', 'X, Y']"\
If you check Replace "," with "ooo" on the settings tab, the output will be: "A,BoooD,X,Y"
```

**Component - Pause**

Pause the process for a specified millisecond before continuing. The relevant settings are as follows:\
• **Input**: Bring in a numeric variable.\
• **Default value**: If the input is empty, take the default value.

**Component - Same functions/responsibilities**

This component is linked to "Department, Organizational Chart, Job Management". You can search for the designated **job** person in charge from the **default department** of a **specific user**, and Return the relevant information of the person in charge:

**"Input" tab**

The settings are as follows:

1. **Position code**: Choose whether to use position code (position\_no) or responsibility name (responsibilitie\_name) for query, and enter the corresponding value.
2. **User Number**: Fill in the user number, usually the applicant’s user ID.
3. **Query method**: Choose to query through organization chart or department structure. For details, please refer to the chapters \[Personnel Management > Department Management] and \[Personnel Management > Organization Chart] and \[Approval Mechanism].
4. **Organization Chart Name**: If you select organization chart for query, fill in an organization chart name. For details, please refer to the chapter \[Personnel Management > Organization Chart].
5. **Organization chart coordinates**: If you select an organization chart for query, you do not need to fill in the organization chart coordinates for the first query. If you want to continue the first query result for the second query, go to the next level. If you continue to search, you can fill in the coordinates of the organization chart output after the first query for positioning, to prevent users from checking the wrong object due to two departments in the same chart.

**"Output" tab**

The settings are as follows:

1. **Department Number (ID)**: If a user matching the **position/responsibility** is found, the default department ID of the user will be returned.
2. **User ID**: If a user matching the **position/responsibility** is found, the user ID will be returned.
3. **Organization chart coordinates**: If a user matching the **position/authority and responsibility** is found, the department code of the position will be returned. When it is necessary to "use this coordinate as the starting point for the next query" available when

**Component-Department Duties/Rights and Responsibilities**

This component is linked to "Department, Organizational Chart, Job Management". You can go from **Specific Department** to **Down** to search for the designated **Position** person in charge, and return the relevant information of the person in charge:

**"Input" tab**

The settings are as follows:

1. **Department code**: Fill in the department number (dept\_no) or department code (dept\_code) as the starting point for the search.
2. **Position code**: Choose whether to use position code (position\_no) or responsibility name (responsibilitie\_name) for query, and enter the corresponding value.
3. **Query method**: Choose to query through organization chart or department structure. For details, please refer to the chapters \[Personnel Management > Department Management] and \[Personnel Management > Organization Chart] and \[Approval Mechanism].
4. **Organization Chart Name**: If you select organization chart for query, fill in an organization chart name. For details, please refer to the chapter \[Personnel Management > Organization Chart].

**"Output" tab**

The settings are as follows:

1. **Department Number (ID)**: If a user matching the **position/responsibility** is found, the default department ID of the user will be returned.
2. **User ID**: If a user matching the **position/responsibility** is found, the user ID will be returned.
3. **Organization chart coordinates**: If a user matching the **position/authority and responsibility** is found, the department code of the position will be returned. When it is necessary to "use this coordinate as the starting point for the next query" available when

### Sub-process design

Enter the sub-process tab and you will see a list of sub-processes. The main features of sub-processes are as follows:\
• Simplify and improve readability of main process\
• Can only be called by the main process\
• The component categories of the sub-process are the same as those of the main process, please refer to the above introduction

> ※ When the sub-process editing is completed, please click the "OK" button in the upper right corner of the main screen to confirm the modification, and click the "Save" button for final saving.

### Apps already on the shelves

```
Location: [Main Menu] > Application Management > Listed Applications
```

Interface for managing listed applications.

#### List of listed applications

When the application is put on the shelves, each application will be displayed here, with the following function introduction:

1. **Removal**: Remove an already-listed application.
2. **Filter**: Search by keyword and display the number of data items at one time.
3. **Restore**: Restore the filter to the default value.
4. **Export**: Export the selected application and import it in application design.
5. \*\*Modification:\*\*Modify the remarks for this version of the application.
6. **Record**: After clicking, all applications that have been listed (including all versions) will be displayed.

#### List of listed processes

```
Location: [Main Menu] > Application Management > Listed Applications > [Any Application]
```

After clicking the application list, you will jump to the process list of the application. Introduction to the process list function:

1. **Enable**: Check the process and enable it in batches.
2. **Deactivation**: Deactivate batches after checking the process. When a process is deactivated, tasks in progress are interrupted and the process cannot be billed or advanced again.
3. **Filter**: Search by keyword and display the number of data items at one time.
4. **Restore**: Restore the filter to the default value.

The status, LOG, API fields and final settings on the list are all clickable buttons:

1. **Status**: Clicking it will switch between enable and disable. The effect is the same as enable and disable in the list above.
2. **LOG**: Turn on or off the **execution process recording** function. This can be modified dynamically without re-listing the application.
3. **API**: Turn on or off the **Application Programming Interface** function. This can be dynamically modified without re-listing the application.
4. **Settings**: It is divided into field settings and API, which are introduced as follows:

> **Field Settings**: Modify the fields displayed in the list.\
> **Order Opening API**: The content includes API, Method, postbody examples and postback examples.\
> **Query API**: The content includes API, Method, postbody examples and postback examples.\
> **Order Push API**: The content includes API, Method, postbody examples and postback examples.

Key points to note:

> ※ The **query API** here is not to query which order numbers are in the process, but to query the data number that stays at the manual point for a specific order number, because the process design may design parallelism, dynamic parallelism, etc., so the same An order may generate multiple pieces of data at the same time and are waiting for manual processing. At this time, you need to query the data number for advancement.

#### Process form list

After clicking on the process, you can enter the form list. Every time you open an order, a piece of information will be generated in this list. When the form is executed, it will appear in a gray state. If it is not executed or an error occurs, there will be an edit option at the end of the data that you can click on. After clicking the **Edit** button, the current input and output of the order will appear. At this time, you can manually modify the parameters. After modification, click OK to advance the process.

> ※ Here you can **re-push the order** for the form with **error** execution.

### Schedule settings

```
Location: [Main Menu]>Application Management>Schedule Settings
```

For processes that have been put on the shelf, schedules can be created to issue orders regularly.

#### Create a new schedule

After entering the schedule list page, click the Add button to create a new schedule. The steps are as follows:

1. Select a process that is already on the shelf. If the process has a design form, there will be an additional **Form Content** button behind the process name.
2. Click the **Form Content** button to display the form designed for this process. After filling it out, click the **Schedule** button.
3. Set the scheduling period, click the **OK** button, and the order will be issued according to the settings.

#### Edit Schedule

The created schedule will appear in the schedule list. There are also "Enable, Disable" buttons below the status field for quick operation. Click the **Edit** button at the end of the list to modify the schedule.

### Parameter management

Parameters are used in the process. The process can obtain parameters for use in the filtering tab of certain components. Parameters can also be imported and exported in batches. The relevant settings are as follows:

1. **name**: parameter name
2. **Description**: Description of parameters
3. **Parameter value**: The value of the parameter
4. **Mask**: When selected as Yes, the parameter value will be displayed in the list as ⋯⋯

> ※ It is recommended to use this function when many processes need to use the same parameter value, such as server IP.

### Service Level Management

```
Location: [Main Menu] > Application Management > Service Level Management
```

Service level rules are used to monitor the specified process. When opening or pushing an order, changes in the field content trigger the service level. At this time, the order's light signal and opening event will be modified according to the triggering conditions, and a letter will be sent to notify the specified personnel.

#### Numerical measurement

After selecting a process that has been put on the shelf, select a field. When the field meets the reminder rules, a reminder notification will be sent and the order light will be changed to yellow. If the field violates the rules, a violation notification will be sent and the order will be changed to yellow. The single light signal was changed to red.

When the value of a specific field meets the conditions, the **service level indicator** is changed. The settings are introduced as follows:

1. **Notification Subject**: The purpose of sending credit.
2. **Notification content**: The content of the credit card.
3. **Notify Role**: You can select multiple roles, and users of these roles will be notified.
4. **Notifier**: You can select multiple users, and these users will be notified.
5. **Notify the biller**: Notify the biller of the order.
6. **Application Name**: Select the application to monitor
7. **Process Name**: Select the process to be monitored
8. **Reminder Rule**: When the monitoring field meets the set value, an email notification will be sent and the service level light will be changed to yellow.
9. **Rule Violation**: When the monitoring field meets the set value, an email notification will be sent and the service level light will be changed to red.

> ※ The **Advanced Trigger Conditions** button can add trigger conditions. The service level indicator will only change if both "reminder rules and violation rules" are met.

#### Time measurement

Time measurement is different from numerical measurement. There are trigger conditions and termination conditions. When the trigger condition is met, timing will start, and when the termination condition is met, timing will end. When the timing exceeds the reminder rules, modify the light signal, create an event ticket, and send a notification letter. If the timing is exceeded and violated, the above actions are also performed.

1. \*\*If the trigger condition is not designed, it means that the order will be triggered immediately. \*\*
2. \*\*If no termination conditions are designed, it means the order will be terminated. \*\*

### Sign-off management

```
Location: [Main Menu] > Application Management > Signoff Management
```

#### Sign-off list

Displays the created approval template.

1. **New**: Added approval template.
2. **Delete**: Delete the approval template.

#### Add new approval

After clicking Add Approval, the creation screen will pop up. The following will introduce the tabs at the top of the screen in order.

**"Settings" tab**

The settings are as follows:

1. **Name**: Name of the approval template.
2. **Description**: The description of this template is provided for the reference of process designers.
3. **Notify the signer**: When approval is assigned to the signer, whether the user receives a notification.
4. **Notify the signer**: When the signature is assigned to a new signer, whether the signer receives the notification.
5. **Notification method**: divided into system notification and email. Emails will be sent according to the mail server settings in **Application Design>Parameter Management**.
6. **Notification content format**: You can choose the notification content format as plain text or html.

**"Input" tab**

The settings are as follows:

1. **Built-in parameters**: Built-in parameters provided by the system. This parameter will be changed according to the current approval settings and stages.
2. **Input variables**: Enter variables from the process for subsequent approval.

**"Stage" tab**

Click Add to add a new stage. The following describes the settings of the stage:

1. **Name**: Stage name, mainly used to display in the approval record.
2. **Description**: Stage description.
3. **Allow quick operations**: Determine whether this approval allows users to perform quick operations in my tasks.
4. **Allow signature**: Determine whether the signature is allowed to be added. After signing, the user's weight will be transferred to the signing object.
5. **Multi-person counter-signing**: After enabling multi-person signing, there will be more items related to the signing result judgment, and the signing supervisor below will also have a new button to add multiple supervisors.\
   (1) **All Agree**: Only when all the signing supervisors agree will the next stage proceed. When one person vetoes, the signing will be left and the result of this signing will be output as "disagree".\
   (2) **Weight Threshold**: The result of this stage is determined according to the threshold setting.

> * Reaching the threshold is regarded as: here, first distinguish between agreeing or disagreeing. If the conditions are met, it will be the selected result, otherwise it will be another option. Fill in the threshold score in the numerical area below, the default is 100.
> * Customized weight: If checked, you can enter your own number for the weight of the signing supervisor below. If not checked, the number will be evenly distributed according to the number of signing supervisors (100 points will be divided equally).
> * The current phase ends when the approval weight reaches the threshold: After this item is checked, when the weighted scores of some supervisors after approval reach the approval threshold, the approval forms of other supervisors will be closed, and the approval forms will be closed according to the settings. The results advance to the next stage or leave sign-off.

(3) **Weight Comparison**: After all approval supervisors have signed off, they will be totaled according to their respective weighted scores. The party with the higher score will advance the result.

> * When the weights of the approval results are equal: Select which result will be output when the weights of both parties are the same.
> * Customized weight: If checked, you can enter your own number for the weight of the signing supervisor below. If not checked, the number will be evenly distributed according to the number of signing supervisors (100 points will be divided equally).

6. Sign-off supervisor:\
   (1) **Weight**: When the multi-person countersigning above is not enabled, this option cannot be changed. After enabling multi-person signature, whether it can be adjusted will be determined according to its settings.\
   (2) **Name**: The name of the sign-off supervisor, mainly used to be displayed in the sign-off record.\
   (3) **Type**: The signing supervisor has the following four query methods.

> * Designated person: Directly specify which user will approve the approval.
>
> \*Organization Chart Query: Query through the organization chart.
>
> * Department query: query through department structure.
> * External query (Python): Call other systems or other processes within the system to query.

(4) Signatory:

> \*Organization Chart Name: This menu will be enabled when the type selects Organization Chart Query and is used to enter the name of the organization chart.
>
> * Query method: This menu will be enabled only when the type is selected as organization chart query or department query. Select one of the same department positions/same department responsibilities/department positions/department responsibilities to query.
> * Select department/position name/responsibility name: This menu will change depending on the type. When the type is a designated person, this menu is for selecting a department; when the type is organization chart query or department query, this menu will display the job title or authority name according to the query method.
> * Select User/User ID/Department Code: This menu will change depending on the type. When the type is designated person, this menu is for selecting the user; when the type is organization chart query or department query, this menu will be displayed as user number or department code according to the query method.

**"Notification" tab**

When sending a letter notification, this tab is designed with the corresponding subject and content:

1. **Purpose**: Notify the purpose. You can use built-in parameters and variables. To use them, move your mouse over the question mark next to the subject and wait for two seconds for it to appear.
2. **Content**: Notice content. Built-in parameters and variables can also be used, and the usage methods are the same.

**"Python" tab**

This tab is only used when querying the sign-off supervisor. When the query method of the sign-off supervisor selects external query (Python), this program code will be called for query.

1. **New**: This new addition is used to add a python package that will be used in the program code. The package will be checked when the template is saved.
2. **Program code**: Enter the program code to be called by yourself. The response and example are written above. Built-in parameters and variables can be used here. The usage method is similar to notification, except that there is no need to use curly brackets {} to enclose the variables.
